<!DOCTYPE html>
<html>
<head>
<title>Method Test</title>

</head>
<body>
    <h1>HTTP Endpoint Testing</h1>
    <form id="fakeRecord">
        <label for="ident">ID:</label>
        <input type="text" id="fakeId" name="fakeId">
        <br>
        <br>
        <label for="artName">Article Name:</label>
        <input type="text" id="article_name" name="article_name">
        <br>
        <br>
        <label for="artBody">Article Body:</label>
        <textarea id="article_body" name="boxText"></textarea>
        <output id="date"></output>
    </form>
    <br>
    <button type="button" onclick="sendPost()" id="posting">postBtn</button>
        <script >
            function sendPost() {
                let xhr = new XMLHttpRequest();
                let payload = JSON.stringify(document.getElementById("fakeId"));
                xhr.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        document.getElementById("postOutput").innerHTML = document.getElementById("fakeId").value;
                    }
                };
                xhr.open("POST", "https://httpbin.org/post", true);
                xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xhr.send(payload);
                console.log("Complete");
            }
        </script>
    <button type="button" onclick="sendGet()" id="getting" >getBtn</button>
        <script>
            function sendGet() {
                let xhr = new XMLHttpRequest();
                xhr.onload = function() {
                    document.getElementById("getOut").innerHTML = this.responseText;
                }
                xhr.open("GET", "https://httpbin.org/get");
                xhr.send();
            }
        </script>

    <button type="button" onclick="sendPut()" id="putting">putBtn</button>
        <script>
            async function sendPut() {
                let data = JSON.stringify(document.getElementById("fakeId"));
                let response = await fetch("https://httpbin.org/put", {
                    method: 'PUT',
                    headers: {
                        'Content-type': 'application/x-www-form-urlencoded',
                        'X-Sent-By': 'javascript'
                    },
                    body: data
            });
            let respData = await response.json();
            
            console.log(data)
    
            return resData;
        }

        
        </script>
    <button id="deleting">deleteBtn</button>


    <hr>
    <p>User will "POST":
       <output id="postOutput"></output> 
    </p>
    <p>User will "GET":
        <output id="getOut"></output>
    </p>
    <p>User will "PUT":
        <output id="putOut"></output>    
    </p>
    <p>User will "Delete"
        <output id="deleteOut"></output>
    </p>
</body>
</html> 